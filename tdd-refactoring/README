Inspired by http://www.cs.unc.edu/~stotts/723/refactor/chap1.html